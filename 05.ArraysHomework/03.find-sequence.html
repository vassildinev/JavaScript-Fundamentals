<!DOCTYPE html>
<!--
	Write a script that finds the maximal sequence of equal elements in an array.
-->
<html>
	<head>
		<title>Array comparison</title>
		<link href="styles/js-console.css" rel="stylesheet" />
	</head>
	<body>
		<label>Please input an array with elements, separated by comma only.</label><br/>
		<input type="text" id="tb-arr" /><br/>
		<a href="#" id="btn-find-max-sequence" onclick="onFindMaxSequenceBtnClick()">Find max sequence</a>
		<div id="js-console"></div>				 
		<script src="scripts/js-console.js"></script>
		<script>
			function onFindMaxSequenceBtnClick() {
				var arr = jsConsole.read('#tb-arr').split(',');

				var lastNumber,
		        	repeatingNumber,
		        	bestLen = 0;
		        	len = 0;

				for (var i = 0; i < arr.length; i++) {
					var currentElement = parseInt(arr[i]);
					if (currentElement === lastNumber)
		            {
		                len++;
		            } else {
		                if (len > bestLen) {
		                    bestLen = len;
		                    repeatingNumber = lastNumber;
		                }

		                len = 1;
	            	}
            		lastNumber = currentElement;
				}

				if (len > bestLen)
		        {
		            bestLen = len;
		            repeatingNumber = lastNumber;
		        }

		        for (var i = 0; i < bestLen; i++)
		        {
		            jsConsole.write(repeatingNumber + " ");
		        }
			}
		</script>
	</body>
</html>
